{"version":3,"sources":["webpack:///./src/pages/ZoomableImage.js","webpack:///./src/images/Image.jpg"],"names":["ZoomableImage","props","_this","_React$Component","call","this","zoom","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1___default","imageLoaded","image","react__WEBPACK_IMPORTED_MODULE_2___default","a","createRef","state","x","y","width","aspectRatio","_this$image$current$g","current","getBoundingClientRect","height","setState","window","innerWidth","mousePositionRelativeToImage","event","imageHeight","mouseOffsetX","clientX","mouseOffsetY","clientY","mouseXPercent","mouseYPercent","oldWidth","oldHeight","_this$mousePositionRe","newWidth","deltaY","newXDiff","newYDiff","newX","newY","preventDefault","render","createElement","onWheel","onLoad","ref","src","_images_Image_jpg__WEBPACK_IMPORTED_MODULE_3___default","alt","style","position","left","top","e","Component","__webpack_exports__","default","u","208","t","i","module","exports","__webpack_require__","p"],"mappings":"yKAGMA,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAEKC,KAAOJ,EAAKI,KAAKC,KAAVC,QAAAN,KACZA,EAAKO,YAAcP,EAAKO,YAAYF,KAAjBC,QAAAN,KACnBA,EAAKQ,MAAQC,EAAAC,EAAMC,YAEnBX,EAAKY,OACHC,EAAG,EACHC,EAAG,EACHC,MAAO,KACPC,YAAa,MAXEhB,sCAenBO,uBAAc,IAAAU,EACYd,KAAKK,MAAMU,QAAQC,wBAApCJ,EADKE,EACLF,MAAOK,EADFH,EACEG,OAEdjB,KAAKkB,UACHN,MAAOO,OAAOC,WACdP,YAAaI,EAAOL,OAIxBS,sCAA6BC,GAC3B,IAAMC,EAAcvB,KAAKS,MAAMG,MAAQZ,KAAKS,MAAMI,YAE5CW,EAAeF,EAAMG,QACrBC,EAAeJ,EAAMK,QACrBC,EAAgBN,EAAMG,QAAUzB,KAAKS,MAAMG,MAC3CiB,EAAgBP,EAAMK,QAAUJ,EAEhCO,EAAW9B,KAAKS,MAAMG,MACtBmB,EAAY/B,KAAKS,MAAMG,MAAQZ,KAAKS,MAAMI,YAOhD,OACEW,aAN2BA,EAAexB,KAAKS,MAAMC,EAOrDgB,aAN2BA,EAAe1B,KAAKS,MAAME,EAOrDiB,cAN4BA,EAAiB5B,KAAKS,MAAMC,EAAIoB,EAO5DD,cAN4BA,EAAiB7B,KAAKS,MAAME,EAAIoB,MAUhE9B,cAAKqB,GAAO,IAAAU,EAERhC,KAAKqB,6BAA6BC,GAD7BE,EADGQ,EACHR,aAAcE,EADXM,EACWN,aAAcE,EADzBI,EACyBJ,cAAeC,EADxCG,EACwCH,cAG5CI,EAAWjC,KAAKS,MAAMG,MAAQU,EAAMY,OAGpCC,EAAYP,EAAgBK,EAAYT,EACxCY,EAAYP,GAHAI,EAAWjC,KAAKS,MAAMI,aAGOa,EAEzCW,EAAOrC,KAAKS,MAAMC,EAAIyB,EACtBG,EAAOtC,KAAKS,MAAME,EAAIyB,EAE5BpC,KAAKkB,UACHN,MAAOqB,EACPvB,EAAG2B,EACH1B,EAAG2B,IAGLhB,EAAMiB,oBAGRC,kBACE,OACElC,EAAAC,EAAAkC,cAAA,OACEC,QAAS1C,KAAKC,KACd0C,OAAQ3C,KAAKI,YACbwC,IAAK5C,KAAKK,MACVwC,IAAKC,EAAAvC,EACLwC,IAAI,GACJC,OACEC,SAAU,WACVC,KAASlD,KAAKS,MAAMC,EAApB,KACAyC,IAAQnD,KAAKS,MAAME,EAAnB,KACAC,MAAUZ,KAAKS,MAAMG,MAArB,SAAAwC,EAnFJzD,CAAsBW,EAAAC,EAAM8C,WA0FlCC,EAAAC,QAAAC,GAAAC,IAAA,SAAAC,EAAAN,EAAAO,GC7FAC,EAAAC,QAAAC,EAAAC,EAAA","file":"component---src-pages-zoomable-image-js-c356f4eb79a17047316a.js","sourcesContent":["import React from \"react\"\nimport Image from \"../images/Image.jpg\"\n\nclass ZoomableImage extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.zoom = this.zoom.bind(this)\n    this.imageLoaded = this.imageLoaded.bind(this)\n    this.image = React.createRef()\n\n    this.state = {\n      x: 0,\n      y: 0,\n      width: null,\n      aspectRatio: null,\n    }\n  }\n\n  imageLoaded() {\n    const {width, height} = this.image.current.getBoundingClientRect()\n\n    this.setState({\n      width: window.innerWidth,\n      aspectRatio: height/width,\n    })\n  }\n\n  mousePositionRelativeToImage(event) {\n    const imageHeight = this.state.width * this.state.aspectRatio\n\n    const mouseOffsetX = event.clientX\n    const mouseOffsetY = event.clientY\n    const mouseXPercent = event.clientX / this.state.width\n    const mouseYPercent = event.clientY / imageHeight\n\n    const oldWidth = this.state.width\n    const oldHeight = this.state.width * this.state.aspectRatio\n\n    const mouseOffsetXRelToImg = mouseOffsetX - this.state.x\n    const mouseOffsetYRelToImg = mouseOffsetY - this.state.y\n    const mouseXPercentRelToImg = mouseXPercent - (this.state.x / oldWidth)\n    const mouseYPercentRelToImg = mouseYPercent - (this.state.y / oldHeight)\n\n    return {\n      mouseOffsetX: mouseOffsetXRelToImg,\n      mouseOffsetY: mouseOffsetYRelToImg,\n      mouseXPercent: mouseXPercentRelToImg,\n      mouseYPercent: mouseYPercentRelToImg,\n    }\n  }\n\n  zoom(event) {\n    const {mouseOffsetX, mouseOffsetY, mouseXPercent, mouseYPercent} =\n      this.mousePositionRelativeToImage(event)\n\n    const newWidth = this.state.width + event.deltaY\n    const newHeight = newWidth * this.state.aspectRatio\n\n    const newXDiff = (mouseXPercent * newWidth) - mouseOffsetX\n    const newYDiff = (mouseYPercent * newHeight) - mouseOffsetY\n\n    const newX = this.state.x - newXDiff\n    const newY = this.state.y - newYDiff\n\n    this.setState({\n      width: newWidth,\n      x: newX,\n      y: newY,\n    })\n\n    event.preventDefault()\n  }\n\n  render() {\n    return (\n      <img\n        onWheel={this.zoom}\n        onLoad={this.imageLoaded}\n        ref={this.image}\n        src={Image}\n        alt=\"\"\n        style={{\n          position: 'absolute',\n          left: `${this.state.x}px`,\n          top: `${this.state.y}px`,\n          width: `${this.state.width}px`,\n        }}\n      />\n    )\n  }\n}\n\nexport default ZoomableImage\n","module.exports = __webpack_public_path__ + \"static/Image-2b53529881376dce99124cc24d92994f.jpg\";"],"sourceRoot":""}